{"meta":{"title":"鹤冲天","subtitle":"","description":"","author":"马孟起","url":"http://kjuan.xyz","root":"/"},"pages":[{"title":"关于","date":"2025-04-01T00:07:14.738Z","updated":"2025-04-01T00:07:14.738Z","comments":false,"path":"about/index.html","permalink":"http://kjuan.xyz/about/","excerpt":"","text":"关于我这里是关于我的详细介绍 技术栈 前端开发 后端架构 人工智能 学习中 深度学习 云原生 分布式系统 兴趣爱好 编程 阅读 音乐"},{"title":"标签聚合","date":"2025-04-01T06:07:22.561Z","updated":"2025-04-01T06:07:22.561Z","comments":false,"path":"tags/index.html","permalink":"http://kjuan.xyz/tags/","excerpt":"","text":""},{"title":"博客总结","date":"2023-11-21T16:00:00.000Z","updated":"2025-04-01T08:25:42.123Z","comments":false,"path":"总结/index.html","permalink":"http://kjuan.xyz/%E6%80%BB%E7%BB%93/","excerpt":"","text":"📄 0 文章总数 📝 0 文章总字数 📁 0 分类总数 🏷️ 0 标签总数 📊 文章发布趋势 月度 年度 📊 分类文章数量 📂 分类统计 0 个分类 加载中... 🏷️ 标签统计 0 个标签 加载中... 🔥 最新文章 加载中... .stat-card { transition: all 0.3s; border-radius: 10px; overflow: hidden; } .stat-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); } .stat-icon { font-size: 2rem; margin-bottom: 10px; color: #0066cc; } #category-list .badge, #tag-list .badge { font-size: 0.9rem; padding: 8px 15px; margin: 0 8px 8px 0; border-radius: 20px; transition: all 0.2s; } #category-list .badge { background-color: rgba(0, 123, 255, 0.1); color: #007bff; border: 1px solid rgba(0, 123, 255, 0.2); } #tag-list .badge { background-color: rgba(23, 162, 184, 0.1); color: #17a2b8; border: 1px solid rgba(23, 162, 184, 0.2); } #category-list .badge:hover, #tag-list .badge:hover { transform: scale(1.05); } #category-list .badge:hover { background-color: #007bff; color: white; } #tag-list .badge:hover { background-color: #17a2b8; color: white; } .card-header { background-color: rgba(0,0,0,0.03); border-bottom: 1px solid rgba(0,0,0,0.05); } .popular-post-item { display: flex; align-items: center; padding: 15px; border-bottom: 1px solid rgba(0,0,0,0.05); } .popular-post-rank { font-size: 1.5rem; font-weight: bold; margin-right: 15px; color: #dc3545; min-width: 30px; text-align: center; } .popular-post-title { flex-grow: 1; } .popular-post-date { color: #6c757d; font-size: 0.85rem; } .loading-text { color: #6c757d; } /* 简单图表样式 */ .simple-chart { height: 250px; display: flex; align-items: flex-end; padding-top: 20px; } .chart-bar { flex: 1; background-color: #007bff; margin: 0 3px; border-radius: 3px 3px 0 0; position: relative; min-height: 1px; transition: height 0.5s; } .chart-bar-label { position: absolute; top: -20px; left: 0; right: 0; text-align: center; font-size: 11px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; transform: rotate(-45deg); transform-origin: right bottom; } .chart-bar-value { position: absolute; bottom: 5px; left: 0; right: 0; text-align: center; color: white; font-size: 12px; font-weight: bold; } .progress-bar { transition: width 0.5s; } // 避免使用外部库，改用内置fetch API document.addEventListener('DOMContentLoaded', function() { // 缓存机制，减少重复请求 const CACHE_KEY = 'blog_stats_cache'; const CACHE_TIME = 3600000; // 1小时缓存 // 尝试从缓存获取数据 function getCache() { try { const cache = localStorage.getItem(CACHE_KEY); if (cache) { const { data, timestamp } = JSON.parse(cache); if (Date.now() - timestamp < CACHE_TIME) { return data; } } } catch (e) { console.error('读取缓存失败', e); } return null; } // 设置缓存 function setCache(data) { try { localStorage.setItem(CACHE_KEY, JSON.stringify({ data, timestamp: Date.now() })); } catch (e) { console.error('设置缓存失败', e); } } // 先检查是否有缓存 const cachedData = getCache(); if (cachedData) { processData(cachedData); return; } // 无缓存，从服务器获取 fetch('/content.json') .then(response => response.json()) .then(data => { // 缓存数据 setCache(data); processData(data); }) .catch(error => { console.error('获取博客数据失败:', error); document.querySelector('.container').innerHTML = '获取博客数据失败，请确保已安装 hexo-generator-json-content 插件'; }); function processData(data) { // 移除加载提示 document.querySelectorAll('.loading-text').forEach(element => { element.parentElement.innerHTML = ''; }); // 文章总数 const postCount = data.posts.length; document.getElementById('post-count').textContent = postCount; // 计算总字数 let wordCount = 0; data.posts.forEach(post => { if (post.text) { wordCount += post.text.length; } }); // 格式化字数显示 let formattedWordCount; if (wordCount > 1000000) { formattedWordCount = (wordCount / 1000000).toFixed(1) + 'M'; } else if (wordCount > 10000) { formattedWordCount = (wordCount / 10000).toFixed(1) + '万'; } else if (wordCount > 1000) { formattedWordCount = (wordCount / 1000).toFixed(1) + 'k'; } else { formattedWordCount = wordCount; } document.getElementById('word-count').textContent = formattedWordCount; // 获取所有分类 const categories = {}; data.posts.forEach(post => { if (post.categories) { post.categories.forEach(category => { if (categories[category.name]) { categories[category.name]++; } else { categories[category.name] = 1; } }); } }); // 显示分类数量 const categoryCount = Object.keys(categories).length; document.getElementById('category-count').textContent = categoryCount; document.getElementById('category-total').textContent = categoryCount + ' 个分类'; // 显示分类列表 const categoryList = document.getElementById('category-list'); const sortedCategories = Object.entries(categories).sort((a, b) => b[1] - a[1]); sortedCategories.forEach(([name, count]) => { const badge = document.createElement('a'); badge.href = '/categories/' + name + '/'; badge.className = 'badge mr-2 mb-2'; badge.textContent = `${name} (${count})`; categoryList.appendChild(badge); }); // 获取所有标签 const tags = {}; data.posts.forEach(post => { if (post.tags) { post.tags.forEach(tag => { if (tags[tag.name]) { tags[tag.name]++; } else { tags[tag.name] = 1; } }); } }); // 显示标签数量 const tagCount = Object.keys(tags).length; document.getElementById('tag-count').textContent = tagCount; document.getElementById('tag-total').textContent = tagCount + ' 个标签'; // 显示标签列表 const tagList = document.getElementById('tag-list'); const sortedTags = Object.entries(tags).sort((a, b) => b[1] - a[1]); sortedTags.forEach(([name, count]) => { const badge = document.createElement('a'); badge.href = '/tags/' + name + '/'; badge.className = 'badge mr-2 mb-2'; badge.textContent = `${name} (${count})`; tagList.appendChild(badge); }); // 按日期对文章进行分组 const postsByMonth = {}; const postsByYear = {}; data.posts.forEach(post => { if (post.date) { const date = new Date(post.date); const year = date.getFullYear(); const month = date.getMonth(); // 按月分组 const monthKey = `${year}-${month+1}`; if (postsByMonth[monthKey]) { postsByMonth[monthKey]++; } else { postsByMonth[monthKey] = 1; } // 按年分组 if (postsByYear[year]) { postsByYear[year]++; } else { postsByYear[year] = 1; } } }); // 创建文章发布统计图表 - 使用简单的DIV实现 const monthLabels = []; const monthData = []; // 获取最近12个月的数据 const now = new Date(); for (let i = 11; i >= 0; i--) { const month = new Date(now.getFullYear(), now.getMonth() - i, 1); const year = month.getFullYear(); const monthNum = month.getMonth() + 1; const monthKey = `${year}-${monthNum}`; const monthName = `${year}/${monthNum}`; monthLabels.push(monthName); monthData.push(postsByMonth[monthKey] || 0); } const yearLabels = Object.keys(postsByYear).sort(); const yearData = yearLabels.map(year => postsByYear[year]); // 创建简单的柱状图 renderSimpleBarChart('post-chart', monthLabels, monthData); // 切换年度/月度按钮事件 document.getElementById('month-btn').addEventListener('click', function() { this.classList.add('active'); document.getElementById('year-btn').classList.remove('active'); renderSimpleBarChart('post-chart', monthLabels, monthData); }); document.getElementById('year-btn').addEventListener('click', function() { this.classList.add('active'); document.getElementById('month-btn').classList.remove('active'); renderSimpleBarChart('post-chart', yearLabels, yearData); }); // 创建分类统计图表 const topCategories = sortedCategories.slice(0, 8); const categoryChartLabels = topCategories.map(item => item[0]); const categoryChartData = topCategories.map(item => item[1]); renderSimpleBarChart('category-chart', categoryChartLabels, categoryChartData, [ '#FF9999', '#99CCFF', '#FFCC99', '#99FF99', '#CC99FF', '#FFFF99', '#FF99CC', '#99FFCC' ]); // 热门文章展示（这里以日期最新的5篇作为演示） const popularPosts = [...data.posts].sort((a, b) => { return new Date(b.date) - new Date(a.date); }).slice(0, 5); const popularPostsContainer = document.getElementById('popular-posts'); popularPostsContainer.innerHTML = ''; popularPosts.forEach((post, index) => { const postDate = new Date(post.date); const formattedDate = `${postDate.getFullYear()}-${postDate.getMonth()+1}-${postDate.getDate()}`; const postItem = document.createElement('a'); postItem.href = post.path; postItem.className = 'list-group-item list-group-item-action popular-post-item'; postItem.innerHTML = ` ${index+1} ${post.title} ${formattedDate} `; popularPostsContainer.appendChild(postItem); }); } // 渲染简单的柱状图，不依赖外部库 function renderSimpleBarChart(containerId, labels, data, colors) { const container = document.getElementById(containerId); container.innerHTML = ''; // 找出最大值 const maxValue = Math.max(...data); // 创建柱状图 data.forEach((value, index) => { const bar = document.createElement('div'); bar.className = 'chart-bar'; // 根据数值设置高度百分比 const heightPercent = maxValue > 0 ? (value / maxValue * 100) : 0; bar.style.height = heightPercent + '%'; // 如果有自定义颜色，则使用 if (colors && colors[index]) { bar.style.backgroundColor = colors[index]; } // 添加标签 const label = document.createElement('div'); label.className = 'chart-bar-label'; label.textContent = labels[index]; bar.appendChild(label); // 添加数值 if (value > 0) { const valueDiv = document.createElement('div'); valueDiv.className = 'chart-bar-value'; valueDiv.textContent = value; bar.appendChild(valueDiv); } container.appendChild(bar); }); } });"},{"title":"网站公告","date":"2025-03-31T16:00:00.000Z","updated":"2025-04-01T05:24:04.327Z","comments":false,"path":"公告/index.html","permalink":"http://kjuan.xyz/%E5%85%AC%E5%91%8A/","excerpt":"","text":"2023年11月01日 网站更新 网站改版完成 经过一段时间的努力，网站已完成全面改版，采用了全新的设计风格，优化了用户体验。主要更新内容如下： 全新的首页设计，视觉效果更佳 优化了文章页面的阅读体验 增加了深色模式支持 提升了网站整体加载速度 感谢大家一直以来的支持！ 2023年10月15日 功能预告 即将上线的新功能 我们计划在近期上线以下新功能： 文章评论系统升级 会员积分系统 更多互动功能 敬请期待！ 2023年09月20日 活动通知 读者互动活动 为了增进与读者的互动，我们将举办一系列线上活动： 优质评论奖励计划 读者投稿专栏 每月读者问答活动 欢迎大家积极参与！ 2023年08月10日 网站公告 网站创建 网站正式创建！我将在这里分享技术文章、学习笔记和个人感悟。 感谢访问，希望我的内容能够对您有所帮助！ /* 公告页面样式 */ .announcement-container { max-width: 800px; margin: 0 auto; padding: 20px; } .announcement-header { text-align: center; margin-bottom: 40px; position: relative; } .announcement-title { font-size: 2rem; color: #3498db; display: inline-block; padding-bottom: 10px; position: relative; } .announcement-title:after { content: \"\"; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 100px; height: 3px; background: linear-gradient(90deg, #3498db, #9b59b6); border-radius: 3px; } .announcement-icon { font-size: 2.5rem; color: #3498db; margin-bottom: 15px; display: block; } .announcement-item { margin-bottom: 40px; padding: 25px; border-radius: 15px; background: white; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); transition: all 0.3s ease; border-left: 5px solid #3498db; } .announcement-item:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1); } .announcement-meta { display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #f0f0f0; } .announcement-date { color: #7f8c8d; font-size: 0.9rem; } .announcement-tag { background: #3498db; color: white; padding: 3px 10px; border-radius: 20px; font-size: 0.8rem; } .announcement-item:nth-child(3) .announcement-tag { background: #9b59b6; } .announcement-item:nth-child(4) .announcement-tag { background: #e74c3c; } .announcement-item:nth-child(5) .announcement-tag { background: #2ecc71; } .announcement-content h3 { color: #2c3e50; margin-bottom: 15px; font-size: 1.4rem; } .announcement-content p { color: #34495e; line-height: 1.7; margin-bottom: 15px; } .announcement-content ul { padding-left: 20px; margin-bottom: 15px; } .announcement-content ul li { color: #34495e; margin-bottom: 8px; position: relative; } .announcement-content ul li:before { content: \"•\"; color: #3498db; font-weight: bold; display: inline-block; width: 1em; margin-left: -1em; } @media (max-width: 768px) { .announcement-meta { flex-direction: column; } .announcement-date { margin-bottom: 10px; } .announcement-tag { align-self: flex-start; } }"}],"posts":[{"title":"try","slug":"try","date":"2025-03-29T13:25:21.000Z","updated":"2025-04-01T01:54:14.468Z","comments":true,"path":"2025/03/29/try/","permalink":"http://kjuan.xyz/2025/03/29/try/","excerpt":"","text":"春江花月夜春江潮水连海平，海上明月共潮生。滟滟随波千万里，何处春江无月明。江流宛转绕芳甸，月照花林皆似霰。空里流霜不觉飞，汀上白沙看不见。江天一色无纤尘，皎皎空中孤月轮。江畔何人初见月？江月何年初照人？人生代代无穷已，江月年年望相似。不知江月待何人，但见长江送流水。 标题1标题2标题3标题4 引用 有序: 马你干嘛哎呦 化 腾 无序： 洛 克 李 代码块： 123int main()&#123; return 0;&#125; 表格 姓名 id 曼施坦因 6 斯大林 3 :靠左表示左对齐，两侧都有表示居中对齐 百度 横线 网址百度 斜体加粗 123int main()&#123; return 0;&#125; 下划线","categories":[{"name":"娱乐","slug":"娱乐","permalink":"http://kjuan.xyz/categories/%E5%A8%B1%E4%B9%90/"}],"tags":[{"name":"测试","slug":"测试","permalink":"http://kjuan.xyz/tags/%E6%B5%8B%E8%AF%95/"},{"name":"test1","slug":"test1","permalink":"http://kjuan.xyz/tags/test1/"}],"author":"洪智"},{"title":"标题测试","slug":"1","date":"2025-03-29T13:14:03.000Z","updated":"2025-04-01T01:25:55.284Z","comments":true,"path":"2025/03/29/1/","permalink":"http://kjuan.xyz/2025/03/29/1/","excerpt":"","text":"welcome! 标签测试 Label ▶title 需要折叠的一段内容，支持 markdown 腾讯 按钮测试 text","categories":[],"tags":[{"name":"举世皆惊","slug":"举世皆惊","permalink":"http://kjuan.xyz/tags/%E4%B8%BE%E4%B8%96%E7%9A%86%E6%83%8A/"},{"name":"天下无双","slug":"天下无双","permalink":"http://kjuan.xyz/tags/%E5%A4%A9%E4%B8%8B%E6%97%A0%E5%8F%8C/"},{"name":"威震天下","slug":"威震天下","permalink":"http://kjuan.xyz/tags/%E5%A8%81%E9%9C%87%E5%A4%A9%E4%B8%8B/"}],"author":"王天一"},{"title":"123","slug":"kjuan","date":"2025-03-29T13:14:03.000Z","updated":"2025-03-30T15:19:19.102Z","comments":true,"path":"2025/03/29/kjuan/","permalink":"http://kjuan.xyz/2025/03/29/kjuan/","excerpt":"","text":"天若有情天亦老，人间正道是沧桑axy","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2025-03-29T11:26:53.292Z","updated":"1985-10-26T08:15:00.000Z","comments":true,"path":"2025/03/29/hello-world/","permalink":"http://kjuan.xyz/2025/03/29/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"娱乐","slug":"娱乐","permalink":"http://kjuan.xyz/categories/%E5%A8%B1%E4%B9%90/"}],"tags":[{"name":"测试","slug":"测试","permalink":"http://kjuan.xyz/tags/%E6%B5%8B%E8%AF%95/"},{"name":"test1","slug":"test1","permalink":"http://kjuan.xyz/tags/test1/"},{"name":"举世皆惊","slug":"举世皆惊","permalink":"http://kjuan.xyz/tags/%E4%B8%BE%E4%B8%96%E7%9A%86%E6%83%8A/"},{"name":"天下无双","slug":"天下无双","permalink":"http://kjuan.xyz/tags/%E5%A4%A9%E4%B8%8B%E6%97%A0%E5%8F%8C/"},{"name":"威震天下","slug":"威震天下","permalink":"http://kjuan.xyz/tags/%E5%A8%81%E9%9C%87%E5%A4%A9%E4%B8%8B/"}]}